<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="user-scalable=no">
        <link rel="icon" href="icon/icon.png" type="image/png">
        <link rel="apple-touch-icon" href="icon/icon.png">
        <link rel="stylesheet" type="text/css" href="css/game.css">
        <title>Abyss Awakening</title>
    </head>
    <body style="background-color: black">
        <script type="text/javascript" src="js/main.js"></script>
    <button id="fullscreenBtn" style="position:absolute;top:10px;right:10px;z-index:999; border:none; background:none; padding:0; cursor:pointer;">
        <img src="./img/system/fullscreen_icon.png" alt="Fullscreen" style="width:40px; height:40px;">
    </button>
    <script>
    const btn = document.getElementById("fullscreenBtn");

    function goFullscreen() {
        const elem = document.documentElement;
        if (elem.requestFullscreen) {
            elem.requestFullscreen();
        } else if (elem.webkitRequestFullscreen) { // Safari
            elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) { // IE11
            elem.msRequestFullscreen();
        }
    }

    // Quand le bouton est cliqué, on demande le fullscreen
    btn.addEventListener("click", goFullscreen);

    // Événement déclenché à chaque changement de fullscreen
    document.addEventListener("fullscreenchange", () => {
        if (document.fullscreenElement) {
            btn.style.display = "none"; // cacher le bouton
        } else {
            btn.style.display = "block"; // remettre le bouton si on sort du fullscreen
        }
    });

    // Pour Safari
    document.addEventListener("webkitfullscreenchange", () => {
        if (document.webkitFullscreenElement) {
            btn.style.display = "none";
        } else {
            btn.style.display = "block";
        }
    });
    </script>
    </body>
</html>
